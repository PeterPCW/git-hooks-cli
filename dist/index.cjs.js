"use strict";var w=Object.create;var i=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var R=(t,e,r)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of v(e))!O.call(t,o)&&o!==r&&i(t,o,{get:()=>e[o],enumerable:!(n=y(e,o))||n.enumerable});return t};var b=(t,e,r)=>(r=t!=null?w(H(t)):{},S(e||!t||!t.__esModule?i(r,"default",{value:t,enumerable:!0}):r,t));var m=(t,e,r)=>R(t,typeof e!="symbol"?e+"":e,r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const T=["applypatch-msg","commit-msg","fsmonitor-watchman","post-applypatch","post-checkout","post-commit","post-merge","post-receive","post-rewrite","post-update","pre-applypatch","pre-auto-gc","pre-checkout","pre-commit","pre-merge-commit","pre-push","pre-rebase","pre-receive","prepare-commit-msg","push-to-checkout","reference-transaction","sendemail-validate","shallow-clone","update","worktree-guid"];class d{constructor(){m(this,"hooks",new Map)}register(e){return this.hooks.set(e.name,e),this}unregister(e){return this.hooks.delete(e),this}get(e){return this.hooks.get(e)}list(){return Array.from(this.hooks.values())}async run(e,r=[]){const n=this.hooks.get(e);if(!n)return!1;const o=n.command,l=[...n.args||[],...r];try{const{spawn:k}=await import("child_process");return new Promise(a=>{var p,u,h;const c=k(o,l,{stdio:"pipe",cwd:process.cwd(),env:{...process.env}});let g="",f="";(p=c.stdout)==null||p.on("data",s=>{g+=s,process.stdout.write(s)}),(u=c.stderr)==null||u.on("data",s=>{f+=s,process.stderr.write(s)}),c.on("close",s=>{a(s===0)}),c.on("error",()=>{a(!1)}),(h=c.stdin)==null||h.end()})}catch{return!1}}clear(){return this.hooks.clear(),this}count(){return this.hooks.size}}function A(){return new d}function C(t){return t}exports.GIT_HOOKS=T;exports.HookRunner=d;exports.createHookRunner=A;exports.defineConfig=C;
